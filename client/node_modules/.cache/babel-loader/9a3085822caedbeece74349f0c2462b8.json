{"ast":null,"code":"import _classCallCheck from \"/Users/nuttapon/web-login-net-secure/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/nuttapon/web-login-net-secure/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/nuttapon/web-login-net-secure/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/nuttapon/web-login-net-secure/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/nuttapon/web-login-net-secure/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/nuttapon/web-login-net-secure/client/src/App.js\";\nimport React, { Component } from \"react\";\nimport { Route, Redirect, Switch } from \"react-router-dom\";\nimport LoginForm from \"./components/loginForm\";\nimport RegisterForm from \"./components/registerForm\";\nimport HomePage from \"./components/homePage\";\nimport Logout from \"./components/logout\";\nimport NotFound from \"./components/notFound\";\nimport auth from \"./services/authService\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"./App.css\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this));\n    _this.state = {\n      user: [],\n      jwt: null,\n      isLoaded: false\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      try {\n        // const jwt = localStorage.getItem(\"token\");\n        // const user = jwtDecode(jwt);\n        // console.log(user);\n        // this.setState({ user });\n        var user = auth.getCurrentUser();\n        this.setState({\n          user: user,\n          isLoaded: true\n        });\n      } catch (e) {}\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          user = _this$state.user,\n          isLoaded = _this$state.isLoaded;\n      console.log(user);\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, React.createElement(ToastContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }), React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, React.createElement(Route, {\n        path: \"/register\",\n        component: RegisterForm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/login\",\n        component: LoginForm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/logout\",\n        component: Logout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/homepage\",\n        render: function render(props) {\n          if (!user) return React.createElement(Redirect, {\n            to: \"/login\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 48\n            },\n            __self: this\n          });\n          return React.createElement(HomePage, Object.assign({}, props, {\n            user: user,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 49\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/not-found\",\n        component: NotFound,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }), React.createElement(Redirect, {\n        from: \"/\",\n        exact: true,\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }), React.createElement(Redirect, {\n        to: \"/not-found\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/nuttapon/web-login-net-secure/client/src/App.js"],"names":["React","Component","Route","Redirect","Switch","LoginForm","RegisterForm","HomePage","Logout","NotFound","auth","ToastContainer","App","state","user","jwt","isLoaded","getCurrentUser","setState","e","console","log","props"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,KAAT,EAAgBC,QAAhB,EAA0BC,MAA1B,QAAwC,kBAAxC;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,YAAP,MAAyB,2BAAzB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,SAASC,cAAT,QAA+B,gBAA/B;AACA,OAAO,WAAP;AACA,OAAO,uCAAP;;IAEMC,G;;;;;AACJ,iBAAc;AAAA;;AAAA;;AACZ;AACA,UAAKC,KAAL,GAAa;AACXC,MAAAA,IAAI,EAAE,EADK;AAEXC,MAAAA,GAAG,EAAE,IAFM;AAGXC,MAAAA,QAAQ,EAAE;AAHC,KAAb;AAFY;AAOb;;;;wCACmB;AAClB,UAAI;AACF;AACA;AACA;AACA;AACA,YAAMF,IAAI,GAAGJ,IAAI,CAACO,cAAL,EAAb;AACA,aAAKC,QAAL,CAAc;AAAEJ,UAAAA,IAAI,EAAJA,IAAF;AAAQE,UAAAA,QAAQ,EAAE;AAAlB,SAAd;AACD,OAPD,CAOE,OAAOG,CAAP,EAAU,CAAE;AACf;;;6BACQ;AAAA,wBACoB,KAAKN,KADzB;AAAA,UACCC,IADD,eACCA,IADD;AAAA,UACOE,QADP,eACOA,QADP;AAEPI,MAAAA,OAAO,CAACC,GAAR,CAAYP,IAAZ;AAEA,aACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,WAAZ;AAAwB,QAAA,SAAS,EAAER,YAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,QAAZ;AAAqB,QAAA,SAAS,EAAED,SAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAGE,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,SAAZ;AAAsB,QAAA,SAAS,EAAEG,MAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHF,EAME,oBAAC,KAAD;AACE,QAAA,IAAI,EAAC,WADP;AAEE,QAAA,MAAM,EAAE,gBAAAc,KAAK,EAAI;AACf,cAAI,CAACR,IAAL,EAAW,OAAO,oBAAC,QAAD;AAAU,YAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AACX,iBAAO,oBAAC,QAAD,oBAAcQ,KAAd;AAAqB,YAAA,IAAI,EAAER,IAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAP;AACD,SALH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANF,EAcE,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,YAAZ;AAAyB,QAAA,SAAS,EAAEL,QAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAdF,EAeE,oBAAC,QAAD;AAAU,QAAA,IAAI,EAAC,GAAf;AAAmB,QAAA,KAAK,MAAxB;AAAyB,QAAA,EAAE,EAAC,QAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAfF,EAgBE,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAC,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAhBF,CAFF,CADF;AAuBD;;;;EA9CeR,S;;AAiDlB,eAAeW,GAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { Route, Redirect, Switch } from \"react-router-dom\";\nimport LoginForm from \"./components/loginForm\";\nimport RegisterForm from \"./components/registerForm\";\nimport HomePage from \"./components/homePage\";\nimport Logout from \"./components/logout\";\nimport NotFound from \"./components/notFound\";\nimport auth from \"./services/authService\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"./App.css\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      user: [],\n      jwt: null,\n      isLoaded: false\n    };\n  }\n  componentDidMount() {\n    try {\n      // const jwt = localStorage.getItem(\"token\");\n      // const user = jwtDecode(jwt);\n      // console.log(user);\n      // this.setState({ user });\n      const user = auth.getCurrentUser();\n      this.setState({ user, isLoaded: true });\n    } catch (e) {}\n  }\n  render() {\n    const { user, isLoaded } = this.state;\n    console.log(user);\n\n    return (\n      <React.Fragment>\n        <ToastContainer />\n        <Switch>\n          <Route path=\"/register\" component={RegisterForm} />\n          <Route path=\"/login\" component={LoginForm} />\n          <Route path=\"/logout\" component={Logout} />\n          {/* <Route path=\"/homepage\" component={HomePage} /> */}\n\n          <Route\n            path=\"/homepage\"\n            render={props => {\n              if (!user) return <Redirect to=\"/login\" />;\n              return <HomePage {...props} user={user} />;\n            }}\n          />\n\n          <Route path=\"/not-found\" component={NotFound} />\n          <Redirect from=\"/\" exact to=\"/login\" />\n          <Redirect to=\"/not-found\" />\n        </Switch>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}